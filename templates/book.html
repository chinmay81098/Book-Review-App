{% extends "layout.html" %}

{% block body %}
    <div id="book-page">
        <h3>Book Details</h3>
        <div class="book-container">
            <p><strong>ISBN &#58</strong> {{book.book_id}}</p>
            <p><strong>Title &#58</strong> {{book.title}}</p>
            <p><strong>Author &#58</strong> {{book.author}}</p>
            <p><strong>Year &#58</strong> {{book.year}}</p>
        </div>
        <div id="ratings">
            <p><strong>Rating &#58</strong>{{ratings.average_rating}}</p>
            <p><strong>Total Reviews &#58</strong>{{ratings.reviews_count}}</p>
        </div>

        <div id="reviews">
            <h2>Reviews</h2>
            {% for rev in reviews %}
            <li>
                <div class="review">
                    <p><strong>{{rev.username}}</strong> {{rev.rating}}</p>
                    <p>{{rev.text_reviews}}</p>
                </div>
            </li>
            {% endfor %}


            {% if status %}
            <h3>Submit a Review</h3>
            <form class="" method="POST" action="">
                <label for="rate-scale">Rate this Book</label>
                <select id="rate-scale" name="score">
                    <option value=1>1</option>
                    <option value=2>2</option>
                    <option value=3>3</option>
                    <option value=4>4</option>
                    <option value=5>5</option>
                </select><br>
                <label for="text-review" >Comment</label><br>
                <textarea id="text-review" name="textreview"></textarea><br>
                <input type="submit" value="Submit">
                </form>
            {% endif %}
            <p>{{msg}}</p>
        </div>

    </div>
{% endblock %}